#include "pch.h"
#include <iostream>
#include <vector>
#include <ctime>
#include <iomanip>


int getBet();
void spinWheel(int diff, int loop);

using namespace std;

double bank = 50;

int main()
{
	int cash = bank;
	srand(time(0));
	int bet = getBet();
	spinWheel(bet, 1);
	cout << "\n\t\tYou now have $" << bank;
	if (cash < bank)
		cout << " You earned $" << setprecision(4) << bank - cash << "!\n";
	else
		cout << " You lost $" << setprecision(4) << cash - bank << ".\n";
	system("pause");
}

int getBet()

{
	cout << "Choose bet ammount:\n1  :  $0.01\n2  :  $0.05\n3  :  $0.10\n4  :  $0.25\n5  :  $0.50\n6  :  $1.00\n";
	char ch;
	cin >> ch;
	while (isdigit(ch) == false || ch > 54)
	{
		cout << "please enter a number that matches 1 - 6";
		cin >> ch;
	}
	cin.putback(ch);
	int bet;
	cin >> bet;
	return bet;
}

void spinWheel(int diff, int loop)

{
	int winCounter = 1;
	int difficulty = diff;
	vector<double> cashVals = { 0.01, 0.05, 0.1, 0.25, 0.5, 1 };

	while (loop == 1) {
		cout << "\n\n\t\t\tPress 1 to spin.\n\t\t  Press any other key to exit. ";
		char ch;
		cin >> ch;
		while (isdigit(ch) == false)
		{
			break;
		}
		cin.putback(ch);
		int loop;
		cin >> loop;
		if (loop != 1)
			break;

		int spin1 = rand() % 16 + 224;
		int spin2 = rand() % 16 + 224;
		int spin3 = rand() % 16 + 224;
		int spin4 = rand() % 16 + 224;
		int spin5 = rand() % 16 + 224;

		cout << endl << "\t\t" << static_cast<char>(spin1 + 1) << '\t' << static_cast<char>(spin2 + 1) << '\t' << static_cast<char>(spin3 + 1) << '\t' << static_cast<char>(spin4 + 1) << '\t' << static_cast<char>(spin5 + 1) << endl << endl;
		cout << "\t\t" << static_cast<char>(spin1) << '\t' << static_cast<char>(spin2) << '\t' << static_cast<char>(spin3) << '\t' << static_cast<char>(spin4) << '\t' << static_cast<char>(spin5) << endl << endl;
		cout << "\t\t" << static_cast<char>(spin1 - 1) << '\t' << static_cast<char>(spin2 - 1) << '\t' << static_cast<char>(spin3 - 1) << '\t' << static_cast<char>(spin4 - 1) << '\t' << static_cast<char>(spin5 - 1) << endl << endl;

		double cashAdded = 0;

		if (spin1 == spin2 && spin2 == spin3 && spin3 == spin4 && spin4 == spin5) {
			cashAdded = cashVals[diff - 1] * 2 * 2 * 2 * 2 * 2;
			bank += cashAdded;
			cout << "\t\t\tJackpot!\n You matched 4 pairs! You earned $" << setprecision(2) << cashAdded << "!";
			cout << "\t\t\t\t\tYou now have $" << bank << endl;
			continue;
		}

		if (spin1 == spin2 && spin2 == spin3 && spin3 == spin4) {
			cashAdded = cashVals[diff - 1] * 2 * 2 * 2 * 2;
			bank += cashAdded;
			cout << "\tYou matched 3 pairs. You earned $" << cashAdded << "!";
			cout << " You now have $" << bank << endl;
			continue;
		}

		if (spin1 == spin2 && spin2 == spin3 && spin4 == spin5) {
			cashAdded = cashVals[diff - 1] * 2 * 2 * 2 * 2;
			bank += cashAdded;
			cout << "\tYou matched 3 pairs. You earned $" << cashAdded << "!";
			cout << " You now have $" << bank << endl;
			continue;
		}

		if (spin1 == spin2 && spin3 == spin4 && spin4 == spin5) {
			cashAdded = cashVals[diff - 1] * 2 * 2 * 2 * 2;
			bank += cashAdded;
			cout << "\tYou matched 3 pairs. You earned $" << cashAdded << "!";
			cout << " You now have $" << bank << endl;
			continue;
		}

		if (spin2 == spin3 && spin3 == spin4 && spin4 == spin5) {
			cashAdded = cashVals[diff - 1] * 2 * 2 * 2 * 2;
			bank += cashAdded;
			cout << "\tYou matched 3 pairs. You earned $" << cashAdded << "!";
			cout << " You now have $" << bank << endl;
			continue;
		}

		if (spin1 == spin2 && spin2 == spin3) {
			cashAdded = cashVals[diff - 1] * 2 * 2 * 2;
			bank += cashAdded;
			cout << "\tYou matched 2 pairs. You earned $" << cashAdded << "!";
			cout << " You now have $" << bank << endl;
			continue;
		}

		if (spin2 == spin3 && spin3 == spin4) {
			cashAdded = cashVals[diff - 1] * 2 * 2 * 2;
			bank += cashAdded;
			cout << "\tYou matched 2 pairs. You earned $" << cashAdded << "!";
			cout << " You now have $" << bank << endl;
			continue;
		}

		if (spin3 == spin4 && spin4 == spin5) {
			cashAdded = cashVals[diff - 1] * 2 * 2 * 2;
			bank += cashAdded;
			cout << "\tYou matched 2 pairs. You earned $" << cashAdded << "!";
			cout << " You now have $" << bank << endl;
			continue;
		}

		if (spin1 == spin2) {
			cashAdded = cashVals[diff - 1] * 2 * 2;
			bank += cashAdded;
			cout << "\tYou matched 1 pair. You earned $" << cashAdded << "!";
			cout << " You now have $" << bank << endl;
			continue;
		}

		if (spin2 == spin3) {
			cashAdded = cashVals[diff - 1] * 2 * 2;
			bank += cashAdded;
			cout << "\tYou matched 1 pair. You earned $" << cashAdded << "!";
			cout << " You now have $" << bank << endl;
			continue;
		}

		if (spin3 == spin4) {
			cashAdded = cashVals[diff - 1] * 2 * 2;
			bank += cashAdded;
			cout << "\tYou matched 1 pair. You earned $" << cashAdded << "!";
			cout << " You now have $" << bank << endl;
			continue;
		}

		if (spin4 == spin5) {
			cashAdded = cashVals[diff - 1] * 2 * 2;
			bank += cashAdded;
			cout << "\tYou matched 1 pair. You earned $" << cashAdded << "!";
			cout << " You now have $" << bank << endl;
			continue;
		}

		if (bank > 0) {
			cashAdded = cashVals[diff - 1] * -1;
			bank += cashAdded;
			cout << "\tYou matched 0 pairs. You lost $" << setprecision(4) << cashAdded * -1 << "!";
			cout << " You now have $" << setprecision(4) << bank << endl;
			continue;
		}

		else {
			cout << "\t\tYou matched no pairs. You have $" << bank << endl;
			continue;
		}
		

	}

}
